{"version":3,"sources":["elements.ts","components/Legend/elements.ts","components/Legend/Legend.tsx","components/Tooltip/elements.ts","components/Tooltip/Tooltip.tsx","components/Downtimes/elements.ts","components/Downtimes/fn.ts","components/Downtimes/DownTimes.tsx","assets/Logo.tsx","components/Header/elements.ts","components/Header/Header.tsx","components/MainStatus/elements.ts","components/MainStatus/fn.ts","components/MainStatus/MainStatus.tsx","utils/fetch.ts","hooks/useChecks.ts","hooks/useDowntime.ts","App.tsx","utils/global.ts","index.tsx"],"names":["Main","styled","main","Wrapper","div","Footer","span","theme","fadedWhite","Container","Item","li","Dot","down","yellow","green","Legend","Circle","white","black","Info","bold","Tooltip","downTime","format","parseISO","started_at","Math","floor","duration","Alias","h3","Data","Header","Services","ul","Service","colorChange","keyframes","Status","loading","css","AllStatus","getEmptyArrayWithLength","length","Array","from","keys","empty","placeholders","lastMonth","checksWithDownTimes","map","downTimes","product","lastMonthDownTimes","filter","isAfter","subDays","Date","from30","differenceInDays","sort","a","b","alias","DownTimes","check","key","token","href","uptime","_","i","find","otherCheck","style","position","Boolean","colors","monotoneColors","Logo","monotone","viewBox","fill","width","height","verticalAlign","d","HeaderStyled","header","Title","h1","title","LastCheck","Percent","h2","Visual","isDown","checks","some","MainStatus","newestCheck","last_check_at","lastCheck","upPercent","request","path","url","fetch","headers","process","resp","json","useChecks","useState","setChecks","setLoading","useEffect","then","c","published","flatten","array","concat","useDowntime","setDownTimes","Promise","all","App","GlobalStyle","createGlobalStyle","normalize","transparentWhite","darkWhite","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a935c759.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Main = styled.main`\n  background: #fff;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 0px 50px 0px;\n  border-radius: 0.5rem;\n  width: 890px;\n  max-width: 100%;\n  padding: 2.5rem;\n`;\n\nexport const Wrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  flex-direction: column;\n`;\n\nexport const Footer = styled.span`\n  margin: 1.5rem 0;\n  text-align: center;\n  font-size: 1rem;\n  color: ${({ theme }) => theme.fadedWhite};\n`;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  padding-top: 1rem;\n  margin-top: 56px;\n  border-top: 1px solid #ccc;\n\n  li:not(:last-child) {\n    margin-right: 2rem;\n  }\n`;\n\nexport const Item = styled.li`\n  list-style: none;\n  display: flex;\n  align-items: center;\n`;\n\nexport const Dot = styled.div<{ down?: boolean }>`\n  width: 1rem;\n  height: 1rem;\n  background: ${({ down, theme }) => (down ? theme.yellow : theme.green)};\n  border-radius: 50%;\n  margin-right: 0.5rem;\n`;\n","import React, { FunctionComponent } from 'react';\n\nimport { Container, Dot, Item } from './elements';\n\nexport const Legend: FunctionComponent = () => (\n  <Container>\n    <Item>\n      <Dot /> 100% uptime\n    </Item>\n\n    <Item>\n      <Dot down /> Downtime\n    </Item>\n  </Container>\n);\n","import styled from 'styled-components';\n\nexport const Circle = styled.div`\n  width: 0.75rem;\n  height: 0.75rem;\n  border-radius: 50%;\n  display: inline-block;\n  position: relative;\n  top: 2px;\n  background: ${({ theme }) => theme.green};\n  margin-right: 0.25rem;\n`;\n\nexport const Container = styled.div`\n  transition: all 200ms ease;\n  transition-delay: 0.1s;\n  position: absolute;\n  background: ${({ theme }) => theme.white};\n  border-radius: 0.25rem;\n  box-shadow: 0 0.25rem 0.25rem rgba(0, 0, 0, 0.25),\n    0 0.25rem 0.25rem rgba(0, 0, 0, 0.25);\n  padding: 0.5rem;\n  opacity: 0;\n  color: ${({ theme }) => theme.black};\n  transform: translateY(100%) translateX(-50%);\n  bottom: -10px;\n  min-width: 120px;\n  margin-left: 0.25rem;\n\n  :after {\n    bottom: 100%;\n    left: 50%;\n    border: 0.5rem solid transparent;\n    content: ' ';\n    height: 0;\n    width: 0;\n    position: absolute;\n    pointer-events: none;\n    border-bottom-color: ${({ theme }) => theme.white};\n    margin-left: -0.5rem;\n  }\n`;\n\nexport const Info = styled.span<{ bold?: boolean }>`\n  white-space: nowrap;\n  font-size: 0.75rem;\n  color: ${({ theme }) => theme.black};\n  display: block;\n  font-weight: ${({ bold }) => (bold ? 500 : 400)};\n\n  &:last-of-type {\n    margin-top: 0.25rem;\n  }\n`;\n","import React, { FunctionComponent } from 'react';\nimport { format, parseISO } from 'date-fns';\n\nimport { DownTime } from '../../types';\n\nimport { Circle, Info, Container } from './elements';\n\ntype Props = {\n  downTime?: DownTime;\n};\nexport const Tooltip: FunctionComponent<Props> = ({ downTime }) => (\n  <Container>\n    {downTime ? (\n      <>\n        <Info>{format(parseISO(downTime.started_at), 'EEEE, MMMM do yyyy')}</Info>\n\n        <Info bold>Down for {Math.floor(downTime.duration / 60)}m</Info>\n      </>\n    ) : (\n      <Info>\n        <Circle />\n        100% Online\n      </Info>\n    )}\n  </Container>\n);\n","import styled, { css, keyframes } from 'styled-components';\n\nimport { Container as Tooltip } from '../Tooltip/elements';\n\nexport const Alias = styled.h3`\n  margin: 0;\n  font-style: normal;\n  font-weight: normal;\n  color: ${({ theme }) => theme.white};\n`;\n\nexport const Data = styled.span`\n  font-style: normal;\n  font-weight: normal;\n  text-align: right;\n\n  color: ${({ theme }) => theme.fadedWhite};\n`;\n\nexport const Header = styled.div`\n  display: flex;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  justify-content: space-between;\n  width: 100%;\n`;\n\nexport const Services = styled.ul`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-column-gap: 20px;\n  grid-row-gap: 60px;\n  padding: 60px 0 0;\n  margin: 20px 0 0;\n  border-top: 1px solid #ccc;\n\n  @media (max-width: 920px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n`;\n\nexport const Service = styled.li`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype ColorChangeProps = { down?: boolean; theme: any };\nconst colorChange = ({ down, theme }: ColorChangeProps) => keyframes`\n  from {\n    background: ${theme.fadedWhite};\n  }\n\n  to {\n    background: ${down ? theme.yellow : theme.green};\n  }\n`;\n\nexport const Status = styled.div<{ down?: boolean; loading?: boolean }>`\n  ${({ loading, theme }) => css`\n    transition: all 0.3s ease;\n    background-color: ${loading && '#757575'};\n    ${!loading &&\n      css`\n        animation: ${colorChange} 1s forwards;\n      `};\n\n    width: 100%;\n    height: 2.5rem;\n\n    &:hover {\n      transform: scaleY(1.2);\n\n      + ${Tooltip} {\n        opacity: 1;\n      }\n    }\n  `};\n`;\n\nexport const AllStatus = styled.div`\n  display: grid;\n  grid-template-columns: repeat(30, 0.5rem);\n  justify-content: space-between;\n  cursor: pointer;\n  position: relative;\n\n  @media (max-width: 920px) {\n    grid-template-columns: repeat(30, 1rem);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(30, 0.5rem);\n  }\n`;\n","import { differenceInDays, isAfter, subDays, parseISO } from 'date-fns';\n\nimport { CheckWithDownTimes, CheckWithLastMonthDownTimes } from '../../types';\n\nconst getEmptyArrayWithLength = (length: number) =>\n  Array.from(Array(length).keys());\nexport const empty = getEmptyArrayWithLength(30);\nexport const placeholders = getEmptyArrayWithLength(4);\n\nexport const lastMonth = (\n  checksWithDownTimes: CheckWithDownTimes[]\n): CheckWithLastMonthDownTimes[] =>\n  checksWithDownTimes\n    .map(({ downTimes, ...product }) => {\n      const lastMonthDownTimes = downTimes\n        .filter(downTime =>\n          isAfter(parseISO(downTime.started_at), subDays(new Date(), 30))\n        )\n        .map(downTime => ({\n          ...downTime,\n          from30:\n            30 - differenceInDays(new Date(), parseISO(downTime.started_at)),\n        }));\n\n      return {\n        ...product,\n        downTimes: lastMonthDownTimes,\n      };\n    })\n    .sort((a, b) => {\n      if (a.alias < b.alias) {\n        return -1;\n      }\n\n      if (a.alias > b.alias) {\n        return 1;\n      }\n\n      return 0;\n    });\n","import React, { FunctionComponent } from 'react';\n\nimport { CheckWithDownTimes } from '../../types';\n\nimport { Legend } from '../Legend';\nimport { Tooltip } from '../Tooltip';\n\nimport {\n  Alias,\n  Data,\n  Header,\n  Service,\n  Services,\n  Status,\n  AllStatus,\n} from './elements';\nimport { lastMonth, empty, placeholders } from './fn';\n\ntype Props = {\n  checksWithDownTimes: CheckWithDownTimes[];\n};\nexport const DownTimes: FunctionComponent<Props> = ({\n  checksWithDownTimes,\n}) => {\n  if (!checksWithDownTimes.length) {\n    return (\n      <>\n        <Services>\n          {placeholders.map(i => (\n            <Service key={i}>\n              <Header>\n                <Alias>Getting data</Alias>\n              </Header>\n\n              <AllStatus>\n                {empty.map((_, i) => (\n                  <Status key={i} loading />\n                ))}\n              </AllStatus>\n            </Service>\n          ))}\n        </Services>\n\n        <Legend />\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Services>\n        {lastMonth(checksWithDownTimes).map(check => (\n          <Service key={check.token}>\n            <Header>\n              <Alias>\n                <a href={`https://updown.io/${check.token}`}>{check.alias}</a>\n              </Alias>\n\n              <Data>\n                {Math.floor(check.uptime * 100) / 100}% uptime for the last 30\n                days\n              </Data>\n            </Header>\n\n            <AllStatus>\n              {empty.map((_, i) => {\n                const down = lastMonth(checksWithDownTimes).find(otherCheck =>\n                  otherCheck.downTimes.find(\n                    downTime =>\n                      downTime.from30 === i + 1 &&\n                      otherCheck.token === check.token\n                  )\n                );\n                return (\n                  <div key={i} style={{ position: 'relative' }}>\n                    <Status down={Boolean(down)} />\n\n                    <Tooltip\n                      downTime={\n                        down &&\n                        down.downTimes.find(\n                          downTime => downTime.from30 === i + 1\n                        )\n                      }\n                    />\n                  </div>\n                );\n              })}\n            </AllStatus>\n          </Service>\n        ))}\n      </Services>\n\n      <Legend />\n    </>\n  );\n};\n","import React from 'react';\n\nconst colors = {\n  background: '#00AFAA',\n  foreground: '#FFF',\n  shadow: '#00A09C',\n};\n\nconst monotoneColors = {\n  background: '#FFF',\n  foreground: '#111',\n  shadow: 'transparent',\n};\n\ninterface Props {\n  monotone?: boolean;\n}\n\nconst Logo: React.FC<Props> = ({ monotone = false }) => (\n  <svg\n    viewBox=\"0 0 137 40\"\n    fill={monotone ? monotoneColors.background : colors.background}\n    width={137}\n    height={40}\n    style={{ verticalAlign: 'middle' }}\n  >\n    <g>\n      <path d=\"M39.9912845,19.9949399 L39.9912845,3.06626141 L39.9912845,1.69551821 L39.9912845,1.38710099 C40,1.30571311 39.9912845,1.28001168 39.9912845,1.26287739 C39.96078,0.577505786 39.385554,0.0206413607 38.675237,0.00350707071 L1.363983,0.00350707071 C0.605730472,0.0206413607 0.0174310927,0.586072931 0,1.30142954 L0,20.0077906 L0,36.9407527 L0,38.3286302 L0,38.6156296 L0,38.7398532 C0.0348621854,39.4380755 0.610088245,39.9863728 1.3160475,40.0035071 L38.6316592,40.0035071 C39.3899118,39.9906564 39.9738534,39.4252248 39.9912845,38.7141517 C39.9970948,38.6827389 39.9970948,32.4430016 39.9912845,19.9949399 Z\" />\n      <path d=\"M137,19.9935753 L137,3.0667095 L137,1.69182996 L137,1.38772888 L137,1.26351858 C136.966044,0.578220366 136.410012,0.0214155691 135.718155,0 L99.3808074,0 L82.8271742,0.0214155691 C82.7988774,0.0214155691 70.635494,0.0142770461 46.3370242,0 C45.5984775,0.0214155691 45.0212226,0.586786594 45.0042445,1.3020666 C45.0014148,1.33062069 45.0014148,7.56540672 45.0042445,20.0064247 L45.0042445,36.9375736 L45.0042445,38.3253025 L45.0042445,38.607988 C45,38.6979334 45.0042445,38.719349 45.0042445,38.7364814 C45.0382007,39.4303459 45.602722,39.9828675 46.28609,40 L55.0722491,40 L82.6319262,40 L99.3341176,40 L119.962491,40 L135.675709,40 C136.410012,39.9871507 136.983022,39.4217796 137,38.7107827 L137,19.9935753 Z\" />\n      <path\n        fill={monotone ? monotoneColors.foreground : colors.foreground}\n        d=\"M104,7.55541279 C105.286849,7.5896777 105.930273,7.60681015 107.225875,7.64964129 L107.225875,17.684977 C108.819116,17.7363743 109.61136,17.7749224 111.200224,17.8477353 L111.200224,7.8081165 C112.491449,7.85951387 113.130497,7.88949566 114.421722,7.94945926 L114.421722,31.5793982 C113.130497,31.5151515 112.491449,31.4894528 111.200224,31.4380555 L111.200224,20.7002891 C109.61136,20.6446086 108.819116,20.6060606 107.225875,20.5503801 L107.225875,31.2752971 C105.930273,31.2367491 105.286849,31.2238998 104,31.1853518 L104,7.55541279 Z\"\n      />\n      <path\n        fill={monotone ? monotoneColors.foreground : colors.foreground}\n        d=\"M96.4537866,10.2580576 C96.1298859,10.2452083 95.9635586,10.2452083 95.644035,10.236642 C94.6985952,10.236642 94.2258754,10.7977299 94.2258754,11.9413213 L94.2258754,26.4268123 C94.2258754,27.5618375 94.6985952,28.1400578 95.644035,28.148624 C96.5150651,28.1571903 96.9571457,28.1571903 97.8325529,28.1743227 L97.8325529,22.387836 C97.1541123,22.3707035 96.8214576,22.3707035 96.1473941,22.3621373 L96.1473941,19.5053004 C98.1126832,19.5224328 99.0931392,19.5395653 101.058428,19.5781133 L101.058428,31.0954064 C98.5328786,31.0354428 97.2635382,31.0225934 94.7336115,31.005461 C92.2430782,30.9883285 91,29.6605632 91,27.0050327 L91,11.4102152 C91,8.7075704 92.2430782,7.35838955 94.7336115,7.37123889 C95.6177728,7.37980512 96.0642304,7.39265446 96.9571457,7.39265446 C99.6927931,7.42691937 101.058428,8.8317807 101.058428,11.5729736 L101.058428,14.1514081 C99.7672027,14.1171432 99.1237784,14.1042938 97.8325529,14.0957276 L97.8325529,11.9884356 C97.8325529,10.8448442 97.3729641,10.2666238 96.4537866,10.2580576 L96.4537866,10.2580576 Z\"\n      />\n      <path\n        fill={monotone ? monotoneColors.foreground : colors.foreground}\n        d=\"M82.939661,28.2085876 C83.4605282,28.2000214 83.7275274,28.1914552 84.2527717,28.1914552 C85.1325559,28.1743227 85.5658825,27.6517828 85.5658825,26.6238355 L85.5658825,7.40122069 C86.857108,7.39265446 87.5049093,7.37123889 88.7961349,7.37123889 L88.7961349,26.5253239 C88.7961349,29.5063711 87.4961552,31.005461 84.8874419,31.0354428 C83.8063141,31.0611414 83.2591846,31.0697077 82.1605486,31.0954064 C79.5824745,31.1425206 78.3000031,29.6819788 78.3000031,26.679516 L78.3000031,7.55541279 C79.5824745,7.51686476 80.2390299,7.49973231 81.5258784,7.47403362 L81.5258784,26.6966485 C81.5258784,27.7245958 81.9985983,28.2300032 82.939661,28.2085876 L82.939661,28.2085876 Z\"\n      />\n      <path\n        fill={monotone ? monotoneColors.foreground : colors.foreground}\n        d=\"M68.0976178,7.94945926 C69.3844664,7.88949566 70.0322677,7.85951387 71.3234932,7.8081165 L71.3234932,28.5726523 C73.0961927,28.4998394 73.989108,28.4655745 75.7661845,28.3970447 L75.7661845,31.2538816 C72.6935054,31.3609594 71.1571658,31.4294892 68.0976178,31.5793982 C68.0976178,22.1351322 68.0888638,17.4065746 68.0976178,7.94945926 L68.0976178,7.94945926 Z\"\n      />\n      <path\n        fill={monotone ? monotoneColors.foreground : colors.foreground}\n        d=\"M55.2486766,12.870757 C55.2530536,10.1638291 56.5399022,8.72470286 59.1179762,8.54052896 C60.0809241,8.47199914 60.5623981,8.43773423 61.529723,8.38205375 C64.1121741,8.2107292 65.3990226,9.50422957 65.3990226,12.1854588 L65.3990226,31.7807046 C64.1121741,31.8492344 63.4599957,31.8877824 62.1687702,31.9605954 L62.1687702,23.3087054 C60.6937091,23.407217 59.9539901,23.4500482 58.470175,23.5614091 L58.470175,32.209016 C57.1833264,32.3032445 56.5399022,32.3589249 55.2530536,32.4488703 C55.2530536,24.6236214 55.2486766,20.7002891 55.2486766,12.870757 L55.2486766,12.870757 Z\"\n      />\n      <path d=\"M62.1700833,12.5833601 C62.1700833,11.6624906 61.7017405,11.2298961 60.7563007,11.2855766 C60.4105149,11.3241246 60.2310564,11.3241246 59.8852706,11.3541064 C58.9442079,11.41407 58.4714881,11.9066281 58.4714881,12.8360638 L58.4714881,20.6955777 C59.9553032,20.5842167 60.6950222,20.5371025 62.1700833,20.442874 L62.1700833,12.5833601 Z\" />\n      <path\n        fill={monotone ? monotoneColors.foreground : colors.foreground}\n        d=\"M127.141592,32.4488703 C125.854743,32.3589249 125.211319,32.3032445 123.920094,32.209016 L123.920094,23.5614091 C122.440655,23.4500482 121.700936,23.407217 120.225875,23.3087054 L120.225875,31.9605954 C118.939027,31.8877824 118.286849,31.8492344 117,31.7807046 L117,12.1854588 C117,9.50422957 118.286849,8.2107292 120.864923,8.38205375 C121.82787,8.43773423 122.318098,8.47199914 123.281046,8.54052896 C125.854743,8.72470286 127.141592,10.1638291 127.141592,12.870757 L127.141592,32.4488703 Z\"\n      />\n      <path d=\"M122.510439,11.3553914 C122.160276,11.3211265 121.985195,11.3125602 121.635032,11.2868615 C120.698346,11.2311811 120.230003,11.6637756 120.230003,12.584645 L120.230003,20.4441589 C121.700687,20.5383874 122.440406,20.5812185 123.919845,20.6925795 L123.919845,12.8330656 C123.919845,11.9036299 123.451502,11.4110718 122.510439,11.3553914\" />\n      <path\n        fill={monotone ? monotoneColors.shadow : colors.shadow}\n        d=\"M14.1904398,29.0477504 C17.5528062,27.0560799 22.799147,23.9202114 29.9294623,19.6401448 L40,33.1831106 C40,34.9395871 40,36.6706696 40,38.376358 C40,38.6317139 40.0176086,38.8759155 39.9099579,39.1366119 C39.8444214,39.3250427 39.7156219,39.4932251 39.6336975,39.5780182 C39.4063212,39.8196462 39.1091715,39.9603068 38.7422485,40 L22,40 C20.3876636,37.6927774 17.7844768,34.0420276 14.1904398,29.0477504 Z\"\n      />\n      <path\n        fill={monotone ? monotoneColors.foreground : colors.foreground}\n        d=\"M15.4603333,10.6279356 C15.1658791,10.4573548 14.7918428,10.4573548 14.5013678,10.6279356 C14.1909973,10.8151585 14.0039791,11.1563201 14.0039791,11.5058028 L14,28.484836 C14,28.8426397 14.1790599,29.1754804 14.4814723,29.3668637 C14.6326784,29.4500739 14.799801,29.5 14.9629445,29.5 C15.1340463,29.5 15.305148,29.4500739 15.452375,29.3668637 L29.5145486,20.8919089 C29.8129818,20.7005255 30,20.3676849 30,20.0057207 C30,19.647917 29.8129818,19.3067554 29.5145486,19.123693 L15.4603333,10.6279356 Z\"\n      />\n    </g>\n  </svg>\n);\n\nexport default Logo;\n","import styled from 'styled-components';\n\nexport const HeaderStyled = styled.header`\n  margin: 3rem 0 2.5rem 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Title = styled.h1`\n  font-weight: 500;\n  font-size: 2rem;\n  color: ${({ theme }) => theme.white};\n`;\n","import React, { FunctionComponent } from 'react';\nimport Logo from '../../assets/Logo';\nimport { HeaderStyled, Title } from './elements';\n\nexport const Header: FunctionComponent = () => (\n  <HeaderStyled>\n    <a href=\"https://alugha.com\" title=\"alugha\">\n      <Logo />\n    </a>\n    <Title>System Status</Title>\n  </HeaderStyled>\n);\n","import styled from 'styled-components';\n\nexport const Title = styled.h1`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.5rem;\n  color: ${({ theme }) => theme.white};\n  margin: 0;\n`;\n\nexport const LastCheck = styled.span`\n  line-height: 1.5rem;\n  color: ${({ theme }) => theme.fadedWhite};\n`;\n\nexport const Circle = styled.div<{ down?: boolean; loading?: boolean }>`\n  width: 1.5rem;\n  height: 1.5rem;\n  border-radius: 50%;\n  transition: all 1s ease;\n\n  background-color: ${({ down, loading, theme }) =>\n    loading ? theme.fadedWhite : down ? theme.yellow : theme.green};\n`;\n\nexport const HeaderStyled = styled.header`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`;\n\nexport const Percent = styled.h2`\n  font-style: normal;\n  font-weight: normal;\n  font-size: 1.5rem;\n  text-align: right;\n  color: ${({ theme }) => theme.white};\n  margin: 0 0.5rem 0 0;\n`;\n\nexport const Visual = styled.div`\n  display: flex;\n  align-items: center;\n`;\n","import { format, parseISO } from 'date-fns';\n\nimport { Check } from '../../types';\n\nexport const isDown = (checks: Check[]) => checks.some(({ down }) => down);\n\nexport const upPercent = (checks: Check[]) =>\n  (checks.filter(({ down }) => !down).length / checks.length) * 100 + '%';\n\nexport const lastCheck = ([newestCheck]: Check[]) =>\n  format(parseISO(newestCheck.last_check_at), \"MMMM do yyyy',' h:ma\");\n","import React, { FunctionComponent } from 'react';\n\nimport { Check } from '../../types';\nimport {\n  Circle,\n  HeaderStyled,\n  LastCheck,\n  Percent,\n  Title,\n  Visual,\n} from './elements';\nimport { isDown, lastCheck, upPercent } from './fn';\n\ntype Props = {\n  checks: Check[];\n  loading: boolean;\n};\nexport const MainStatus: FunctionComponent<Props> = ({ checks, loading }) => (\n  <HeaderStyled>\n    <div>\n      <Title>\n        {loading\n          ? 'Getting the data'\n          : isDown(checks)\n          ? 'We are experiences some issues'\n          : 'All Services Operational'}\n      </Title>\n\n      <LastCheck>\n        {loading ? 'Hold on Tight' : `As of ${lastCheck(checks)}`}\n      </LastCheck>\n    </div>\n\n    <Visual>\n      {!loading && <Percent>{upPercent(checks)}</Percent>}\n\n      {loading ? <Circle loading /> : <Circle down={isDown(checks)} />}\n    </Visual>\n  </HeaderStyled>\n);\n","const baseURL = 'https://updown.io/api';\n\nexport const request = async <T>(path: string) => {\n  const url = baseURL + path;\n  const resp = await fetch(url, {\n    headers: {\n      'X-API-KEY': process.env.REACT_APP_UPDOWN_API_KEY || '',\n    },\n  });\n  return (await resp.json()) as T;\n};\n","import { useState, useEffect } from 'react';\n\nimport { Check } from '../types';\nimport { request } from '../utils/fetch';\n\nconst getChecks = () => request<Check[]>('/checks');\n\nexport const useChecks = (): [Check[], boolean] => {\n  const [checks, setChecks] = useState<Check[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setLoading(true);\n\n    getChecks().then(checks => {\n      setChecks(checks.filter(c => c.published));\n\n      setLoading(false);\n    });\n  }, []);\n\n  return [checks, loading];\n};\n","import { useState, useEffect } from 'react';\n\nimport { Check, CheckWithDownTimes, DownTime } from '../types';\nimport { request } from '../utils/fetch';\n\nimport { useChecks } from './useChecks';\n\nconst flatten = <T>(array: T[]) => ([] as T[]).concat(...array);\nconst getDownTimes = (token: string) =>\n  request<DownTime[]>(`/checks/${token}/downtimes`);\n\nexport const useDowntime = (): [CheckWithDownTimes[], Check[], boolean] => {\n  const [checks, loading] = useChecks();\n  const [checksWithDownTimes, setDownTimes] = useState<CheckWithDownTimes[]>(\n    []\n  );\n\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n\n    Promise.all(\n      checks.map(check =>\n        getDownTimes(check.token).then(downTimes => ({\n          ...check,\n          downTimes,\n        }))\n      )\n    )\n      .then(flatten)\n      .then(setDownTimes);\n  }, [loading, checks]);\n\n  return [checksWithDownTimes, checks, loading];\n};\n","import React, { FunctionComponent } from 'react';\n\nimport { Footer, Main, Wrapper } from './elements';\n\nimport { DownTimes } from './components/Downtimes';\nimport { Header } from './components/Header';\nimport { MainStatus } from './components/MainStatus';\nimport { useDowntime } from './hooks/useDowntime';\n\nexport const App: FunctionComponent = () => {\n  const [checksWithDownTimes, checks, loading] = useDowntime();\n\n  return (\n    <Wrapper>\n      <Header />\n\n      <Main>\n        <MainStatus checks={checks} loading={loading} />\n\n        <DownTimes checksWithDownTimes={checksWithDownTimes} />\n      </Main>\n\n      <Footer>\n        <a href=\"https://alugha.com/privacy\">Privacy Policy</a>\n        {' · '}\n        <a href=\"https://alugha.com/disclaimer\">Disclaimer</a>\n        {' · '}\n        <a href=\"https://alugha.com/disclaimer\">Terms of Use</a>\n      </Footer>\n    </Wrapper>\n  );\n};\n","// @ts-ignore\nimport normalize from 'normalize.css';\nimport { createGlobalStyle } from 'styled-components';\n\nexport const GlobalStyle = createGlobalStyle`\n  ${normalize}\n\n  html {\n    box-sizing: border-box;\n    background: linear-gradient(rgb(255, 255, 255), rgb(225, 231, 233));\n    min-height: 100vh;\n    color: #333;\n    /* System font stack */\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen, Ubuntu, Cantarell, \"Open Sans\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";\n  }\n\n  *,\n  ::before,\n  ::after {\n    box-sizing: inherit;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n`;\n\nexport const theme = {\n  white: '#111',\n  fadedWhite: '#333',\n  yellow: '#F59300',\n  green: '#30d158',\n  transparentWhite: 'rgba(255, 255, 255, 0.2)',\n  darkWhite: 'rgba(255, 255, 255, 0.6)',\n  black: '#fefefe',\n};\n","import React, { FunctionComponent } from 'react';\nimport ReactDOM from 'react-dom';\nimport { ThemeProvider } from 'styled-components';\n\nimport { App } from './App';\nimport { GlobalStyle, theme } from './utils/global';\n\nconst Main: FunctionComponent = () => (\n  <ThemeProvider theme={theme}>\n    <>\n      <GlobalStyle />\n      <App />\n    </>\n  </ThemeProvider>\n);\n\nReactDOM.render(<Main />, document.getElementById('root'));\n"],"sourceRoot":""}